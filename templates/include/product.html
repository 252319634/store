{% load extras %}
<style>
    .product_div{
        margin:10px;display:inline-block;width: 222px;height: 254px;
        text-align:center;
    }
    .product_div img{
        width: 218px;height: 218px; margin:0 auto;
    }
    .product_div .pname{
        width:208px;height:20px;line-height: 20px; overflow: hidden;
        text-align: left;word-break:break-all;float: left;
    }
    .product_div .price{
        width:218px;height:30px; line-height: 30px;padding:0 5px;
        text-align: left;color: red;font-weight: bold;
    }
</style>
<a href="{% url 'products' p.id %}">
<div class="product_div">
    <img src="{{ MEDIA_URL }}{{ p.image }}" alt="主图"/>
    <div class="pname" >{{ p.name|slice:'18' }}</div>{% if p.name|length > 18 %}<div style="float: left">...</div>{% endif %}
    {#slice 截取多少个字符; length 返回字符长度#}
    <div style="clear: both"></div>
    <div class="price" >¥{{ p.id|price }}</div>
</div></a>